[
    {
        "a_contents": "/******************************************************************************\n * Copyright 2022 The Apollo Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *****************************************************************************/\n\n#include \"modules/perception/lidar/lib/pointcloud_detection_preprocessor/pointcloud_detection_preprocessor.h\"\n\n#include \"modules/perception/pipeline/plugin_factory.h\"\n\nnamespace apollo {\nnamespace perception {\nnamespace lidar {\n\nbool PointcloudDetectionPreprocessor::Init(const StageConfig& stage_config) {\n  if (!Initialize(stage_config)) {\n    return false;\n  }\n\n  ACHECK(stage_config.has_pointcloud_detection_preprocessor_config());\n  pointcloud_detection_preprocessor_config_ =\n      stage_config.pointcloud_detection_preprocessor_config();\n\n  pointcloud_downsample_ =\n      pipeline::dynamic_unique_cast<PointCloudDownSample>(\n          pipeline::PluginFactory::CreatePlugin(\n              plugin_config_map_[PluginType::POINTCLOUD_DOWN_SAMPLE]));\n  CHECK_NOTNULL(pointcloud_downsample_);\n\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame) {\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame,\n                                              std::vector<float>* points_array,\n                                              int* num_points) {\n  if (nullptr == data_frame) {\n    AERROR << \"Input null data_frame ptr.\";\n    return false;\n  }\n  if (nullptr == points_array) {\n    AERROR << \"Input null points_array ptr.\";\n    return false;\n  }\n\n  if (!pointcloud_downsample_->Process(data_frame, points_array, num_points)) {\n    return false;\n  }\n  return true;\n}\n\n}  // namespace lidar\n}  // namespace perception\n}  // namespace apollo",
        "b_contents": "/******************************************************************************\n * Copyright 2022 The Apollo Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *****************************************************************************/\n\n#include \"modules/perception/lidar/lib/pointcloud_detection_preprocessor/pointcloud_detection_preprocessor.h\"\n\n#include \"modules/perception/pipeline/plugin_factory.h\"\n\nnamespace apollo {\nnamespace perception {\nnamespace lidar {\n\nbool PointcloudDetectionPreprocessor::Init(const StageConfig& stage_config) {\n  if (!Initialize(stage_config)) {\n    return false;\n  }\n\n  ACHECK(stage_config.has_pointcloud_detection_preprocessor_config());\n  pointcloud_detection_preprocessor_config_ =\n      stage_config.pointcloud_detection_preprocessor_config();\n\n  pointcloud_downsample_ =\n      pipeline::dynamic_unique_cast<PointCloudDownSample>(\n          pipeline::PluginFactory::CreatePlugin(\n              plugin_config_map_[PluginType::POINTCLOUD_DOWN_SAMPLE])\n      );\n  CHECK_NOTNULL(pointcloud_downsample_);\n\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame) {\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame,\n                                              std::vector<float>* points_array,\n                                              int* num_points) {\n  if (nullptr == data_frame) {\n    AERROR << \"Input null data_frame ptr.\";\n    return false;\n  }\n  if (nullptr == points_array) {\n    AERROR << \"Input null points_array ptr.\";\n    return false;\n  }\n\n  if (!pointcloud_downsample_->Process(data_frame, points_array, num_points)) {\n    return false;\n  }\n  return true;\n}\n\n}  // namespace lidar\n}  // namespace perception\n}  // namespace apollo",
        "base_contents": "",
        "res_region": "/******************************************************************************\n * Copyright 2022 The Apollo Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *****************************************************************************/\n\n#include \"modules/perception/lidar/lib/pointcloud_detection_preprocessor/pointcloud_detection_preprocessor.h\"\n\n#include \"modules/perception/pipeline/plugin_factory.h\"\n\nnamespace apollo {\nnamespace perception {\nnamespace lidar {\n\nbool PointcloudDetectionPreprocessor::Init(const StageConfig& stage_config) {\n  if (!Initialize(stage_config)) {\n    return false;\n  }\n\n  ACHECK(stage_config.has_pointcloud_detection_preprocessor_config());\n  pointcloud_detection_preprocessor_config_ =\n      stage_config.pointcloud_detection_preprocessor_config();\n\n  pointcloud_downsample_ =\n      pipeline::dynamic_unique_cast<PointCloudDownSample>(\n          pipeline::PluginFactory::CreatePlugin(\n              plugin_config_map_[PluginType::POINTCLOUD_DOWN_SAMPLE]));\n  CHECK_NOTNULL(pointcloud_downsample_);\n\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame) {\n  return true;\n}\n\nbool PointcloudDetectionPreprocessor::Process(DataFrame* data_frame,\n                                              std::vector<float>* points_array,\n                                              int* num_points) {\n  if (nullptr == data_frame) {\n    AERROR << \"Input null data_frame ptr.\";\n    return false;\n  }\n  if (nullptr == points_array) {\n    AERROR << \"Input null points_array ptr.\";\n    return false;\n  }\n\n  if (!pointcloud_downsample_->Process(data_frame, points_array, num_points)) {\n    return false;\n  }\n  return true;\n}\n\n}  // namespace lidar\n}  // namespace perception\n}  // namespace apollo",
        "lookback": " * Copyright 2022 The Apollo Authors. All Rights Reserved.",
        "lookahead": "",
        "label": [
            "ours",
            "base_underutilized"
        ],
        "start_line": 0,
        "end_line": 138,
        "merge_gen_region": " Copyright022 Alo. Rights. Rights Copyright022 Apol Authors All Reserved * Licensed the Apache, 20theLicense * may use file in with License * may a of License * may a of License * * httpwwwapacheorglicensesLICENSE20 * Unless by law agreed in writing software distributed the is on \" IS BASIS * WARRANTIES CONDITIONS ANY, either or. See License the for specific governing and limitations the License *****************************************************************************/includemodulesper/arlibpoint____processorpoint___processorh # \"modulesper////_.\" alo namespaceception namespaceid { PointDetectionprocessorInitconstConfig stageconfig { ifInitializestageconfig { false }CHECKstageconfighaspoint_____processorconfig point___processorconfig =_.clouddetectionpre_();clouddowns_ pipelinedynamicuniquecastPointCloudSample pipelinePlugin::CLO___ pack CHECKNOT(clouddowns_); true } PointDetectionprocessorProcessData*_) return; bool PointDetectionprocessorProcessData*_,::<<>*_,**_) ifnullptr data_) A <<Input dataframe.\"; false } ( ==_) A <<Input points_ ptr return false } (!clouddowns_->(_frame pointsarray numpoints {",
        "confidence": 0.9552282094955444,
        "hesitated": false,
        "resolved": false
    }
]